# ๐ค HeshmatBot - ุฑุจุงุช ุชูฺฏุฑุงู

ฺฉ ุฑุจุงุช ุชูฺฏุฑุงู ุณุงุฏู ู ฺฉุงุฑุจุฑุฏ ุจุง Python ู MySQL

## โจ ูฺฺฏโูุง

- ๐ฏ **ูพูู ุงุฏูู ุชุนุงูู** ุจุง ููู ุฒุจุง
- ๐ **Session Management** ุจุง ูุฏุช ุฒูุงู ูุงุจู ุชูุธู
- ๐ฌ **ฺุช ููุดููุฏ** ุจุง ูพุงุณุฎโูุง ุฎูุฏฺฉุงุฑ
- ๐ **ุขูุงุฑ ฺฉุงูู ฺฉุงุฑุจุฑุงู** ู ูพุงูโูุง
- ๐๏ธ **ูพุงฺฏุงู ุฏุงุฏู MySQL** ุจุฑุง ุฐุฎุฑู ุงุทูุงุนุงุช
- ๐ **ุณุณุชู ูุงฺฏโฺฏุฑ** ฺฉุงูู
- ๐ก๏ธ **ุงููุช ูพุดุฑูุชู** ุจุง ุฏฺฉูุฑุชูุฑ ูุญุงูุธ

## ๐ ูุตุจ ู ุฑุงูโุงูุฏุงุฒ

### ูพุดโูุงุฒูุง

- Python 3.7+
- MySQL Server
- ฺฉ ุฑุจุงุช ุชูฺฏุฑุงู (ุงุฒ @BotFather)

### ูุตุจ ุฎูุฏฺฉุงุฑ ุฑู ูููฺฉุณ (Ubuntu/Debian)

```bash
sudo bash scripts/setup.sh
```

ุงุณฺฉุฑูพุช:
- ูุงุจุณุชฺฏโูุง (Pythonุ pipุ venvุ MySQL Server) ุฑุง ูุตุจ ูโฺฉูุฏ
- venv ูโุณุงุฒุฏ ู `requirements.txt` ุฑุง ูุตุจ ูโฺฉูุฏ
- ุฏุชุงุจุณ ู ูุฒุฑ ุฑุง ูโุณุงุฒุฏ ู `mysql_setup.sql` ุฑุง ุงุนูุงู ูโฺฉูุฏ
- ูุงู `.env` ูโุณุงุฒุฏ (BOT_TOKEN ู ... ุฑุง ูโูพุฑุณุฏ)
- ุณุฑูุณ systemd ุจู ูุงู `heshmatbot` ูโุณุงุฒุฏ ู ุงุฌุฑุง ูโฺฉูุฏ

ูุชุบุฑูุง ูุงุจู ุชูุธู (ุงุฎุชุงุฑ) ูุจู ุงุฒ ุงุฌุฑุง:

```bash
export PROJECT_DIR=/opt/heshmatbot
export SERVICE_NAME=heshmatbot
export DB_NAME=heshmatbot
export DB_USER=heshmat
export DB_PASSWORD=secret
export MYSQL_ROOT_PWD=your_root_pwd
export BOT_TOKEN=123:ABC
export ADMIN_PASSWORD=admin123
sudo -E bash scripts/setup.sh
```

ูพุณ ุงุฒ ูุตุจ:

```bash
systemctl status heshmatbot --no-pager
journalctl -u heshmatbot -n 100 --no-pager
```

### ูุฑุงุญู ูุตุจ ุฏุณุช

1. **ฺฉููู ฺฉุฑุฏู ูพุฑูฺู:**
   ```bash
   git clone <repository-url>
   cd HeshmatBot
   ```

2. **ูุนุงู ฺฉุฑุฏู virtual environment:**
   ```bash
   .\venv\Scripts\Activate.ps1  # Windows
   source venv/bin/activate      # Linux/Mac
   ```

3. **ูุตุจ ูุงุจุณุชฺฏโูุง:**
   ```bash
   pip install -r requirements.txt
   ```

4. **ุชูุธู ุฏุชุงุจุณ MySQL:**
   - MySQL Server ุฑุง ูุตุจ ฺฉูุฏ
   - ุฏุชุงุจุณ `heshmatbot` ุงุฌุงุฏ ฺฉูุฏ
   - ูุงู `.env` ุฑุง ูุฑุงุด ฺฉูุฏ

5. **ุชูุธู ูุชุบุฑูุง ูุญุท:**
   - ูุงู `.env` ุฑุง ูุฑุงุด ฺฉูุฏ
   - ุชูฺฉู ุฑุจุงุช ู ุชูุธูุงุช MySQL ุฑุง ูุงุฑุฏ ฺฉูุฏ

6. **ุงุฌุฑุง ุฑุจุงุช:**
   ```bash
   python bot.py
   ```

## ๐ ุฏุณุชูุฑุงุช ููุฌูุฏ

### ุฏุณุชูุฑุงุช ุนููู
- `/start` - ุดุฑูุน ฺฉุงุฑ ุจุง ุฑุจุงุช
- `/help` - ููุงุด ุฑุงูููุง

### ูพูู ุงุฏูู ุชุนุงูู
- `/admin` - ูุฑูุฏ ุจู ูพูู ุงุฏูู (ุจุง ููู ุฒุจุง)

#### ููู ุงุฏูู ุดุงูู:
- ๐ **ุขูุงุฑ** - ุขูุงุฑ ฺฉุงูู ฺฉุงุฑุจุฑุงู ู ูพุงูโูุง
- ๐ฅ **ฺฉุงุฑุจุฑุงู** - ูุณุช ฺฉุงุฑุจุฑุงู ุจุง ุฌุฒุฆุงุช
- ๐ข **ุงุฑุณุงู ูพุงู** - ุงุฑุณุงู ูพุงู ุจู ููู ฺฉุงุฑุจุฑุงู
- ๐ **Session** - ุงุทูุงุนุงุช session ุงุฏูู
- ๐ **ุชุงุฒูโุณุงุฒ** - ุชุงุฒูโุณุงุฒ ููู
- ๐ช **ุฎุฑูุฌ** - ุฎุฑูุฌ ุงุฒ ูพูู ุงุฏูู

## โ๏ธ ุชูุธูุงุช

### ูุงู .env

```env
# ุชูุธูุงุช ุฑุจุงุช ุชูฺฏุฑุงู
BOT_TOKEN=your_bot_token_here

# ุฑูุฒ ุนุจูุฑ ูพูู ุงุฏูู
ADMIN_PASSWORD=admin123

# ุชูุธูุงุช ุฏุชุงุจุณ MySQL
DB_HOST=localhost
DB_PORT=3306
DB_USER=root
DB_PASSWORD=your_mysql_password
DB_NAME=heshmatbot

# ุชูุธูุงุช ูุงฺฏ
LOG_LEVEL=INFO
LOG_FILE=bot.log
```

## ๐๏ธ ุณุงุฎุชุงุฑ ุฏุชุงุจุณ

### ุฌุฏูู users
- `user_id` - ุดูุงุณู ฺฉุงุฑุจุฑ ุชูฺฏุฑุงู
- `username` - ูุงู ฺฉุงุฑุจุฑ
- `first_name` - ูุงู
- `last_name` - ูุงู ุฎุงููุงุฏฺฏ
- `join_date` - ุชุงุฑุฎ ุนุถูุช
- `last_activity` - ุขุฎุฑู ูุนุงูุช
- `message_count` - ุชุนุฏุงุฏ ูพุงูโูุง

### ุฌุฏูู messages
- `id` - ุดูุงุณู ูพุงู
- `user_id` - ุดูุงุณู ฺฉุงุฑุจุฑ
- `message_text` - ูุชู ูพุงู
- `message_type` - ููุน ูพุงู
- `message_date` - ุชุงุฑุฎ ูพุงู

### ุฌุฏูู logs
- `id` - ุดูุงุณู ูุงฺฏ
- `user_id` - ุดูุงุณู ฺฉุงุฑุจุฑ
- `action` - ุนูู ุงูุฌุงู ุดุฏู
- `details` - ุฌุฒุฆุงุช
- `log_date` - ุชุงุฑุฎ ูุงฺฏ

## ๐ ุณุงุฎุชุงุฑ ูพุฑูฺู

```
HeshmatBot/
โโโ bot.py              # ูุงู ุงุตู ุฑุจุงุช
โโโ database.py         # ูุฏุฑุช ุฏุชุงุจุณ MySQL
โโโ requirements.txt    # ูุงุจุณุชฺฏโูุง
โโโ setup.py           # ูุงู ูุตุจ
โโโ .env               # ูุชุบุฑูุง ูุญุท
โโโ env_example.txt    # ููููู ุชูุธูุงุช
โโโ README.md          # ุฑุงูููุง
โโโ venv/              # virtual environment
```

## ๐ง ุชูุณุนู

### ุงุถุงูู ฺฉุฑุฏู ุฏุณุชูุฑ ุฌุฏุฏ

```python
@bot.message_handler(commands=['new_command'])
def new_command(message):
    bot.reply_to(message, "ูพุงู ูพุงุณุฎ")
```

### ุงุถุงูู ฺฉุฑุฏู ูุงุจูุช ุฌุฏุฏ

```python
# ุฏุฑ ูุงู database.py
def new_function(self):
    # ฺฉุฏ ุฌุฏุฏ
    pass
```

## ๐ ุนุจโุงุจ

### ูุดฺฉูุงุช ุฑุงุฌ

1. **ุฎุทุง ุงุชุตุงู ุจู MySQL:**
   - ูุทูุฆู ุดูุฏ MySQL Server ุฏุฑ ุญุงู ุงุฌุฑุง ุงุณุช
   - ุชูุธูุงุช ุฏุชุงุจุณ ุฑุง ุจุฑุฑุณ ฺฉูุฏ

2. **ุฎุทุง ุชูฺฉู:**
   - ุชูฺฉู ุฑุจุงุช ุฑุง ุงุฒ @BotFather ุฏุฑุงูุช ฺฉูุฏ
   - ูุงู .env ุฑุง ุจุฑุฑุณ ฺฉูุฏ

3. **ุฎุทุง ูุตุจ:**
   ```bash
   pip install --upgrade pip
   pip install -r requirements.txt
   ```

## ๐ ูุฌูุฒ

ุงู ูพุฑูฺู ุชุญุช ูุฌูุฒ MIT ููุชุดุฑ ุดุฏู ุงุณุช.

## ๐ค ูุดุงุฑฺฉุช

ุจุฑุง ูุดุงุฑฺฉุช ุฏุฑ ูพุฑูฺู:

1. Fork ฺฉูุฏ
2. ุดุงุฎู ุฌุฏุฏ ุงุฌุงุฏ ฺฉูุฏ
3. ุชุบุฑุงุช ุฑุง commit ฺฉูุฏ
4. Pull Request ุงุฑุณุงู ฺฉูุฏ

---

**ูฺฉุชู:** ุงู ุฑุจุงุช ุจุฑุง ุงูุฏุงู ุขููุฒุด ุณุงุฎุชู ุดุฏู ุงุณุช. ุจุฑุง ุงุณุชูุงุฏู ุชุฌุงุฑุ ุงููุช ู ูุงุจูุชโูุง ุจุดุชุฑ ุงุถุงูู ฺฉูุฏ.
